<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <!-- Override ProductPage for meal mode editing -->
    <t t-inherit="pos_self_order.ProductPage" t-inherit-mode="extension">
        <!-- Replace the Discard button to go to cart in meal mode -->
        <xpath expr="//button[hasclass('btn-secondary') and hasclass('text-nowrap')]" position="replace">
            <button class="btn btn-secondary btn-lg px-3 text-nowrap" t-on-click="() => this.discardEdit()">
                <i class="oi oi-chevron-left" aria-hidden="true"/><span class="ms-2 d-none d-md-inline">Discard</span>
            </button>
        </xpath>

        <!-- Replace the minus button to enable it in meal mode -->
        <xpath expr="//div[hasclass('o_self_order_incr_button')]/button[1]" position="replace">
            <button type="button"
                t-on-click="() => this.changeQuantity(false)"
                t-attf-class="{{ (!this.env.editable and !this.isEditingInMealMode) ? 'disabled' : '' }} btn btn-secondary btn-lg">
                <span class="fs-2 lh-1 fa-fw d-inline-block">Ôºç</span>
            </button>
        </xpath>
    </t>

</templates>
